(function(t){function e(e){for(var s,n,a=e[0],l=e[1],u=e[2],m=0,d=[];m<a.length;m++)n=a[m],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],s=!0,a=1;a<r.length;a++){var l=r[a];0!==o[l]&&(s=!1)}s&&(i.splice(e--,1),t=n(n.s=r[0]))}return t}var s={},o={app:0},i=[];function n(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=s,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(r,s,function(e){return t[e]}.bind(null,s));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var c=l;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var s=r("85ec"),o=r.n(s);o.a},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("NavBar")],1),r("router-view")],1)},i=[],n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-navbar",{staticStyle:{"background-color":"#002496"},attrs:{toggleable:"lg",type:"dark"}},[s("b-navbar-brand",[s("img",{staticStyle:{width:"100px"},attrs:{src:r("bd3c")}})]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-form",["Login"!==t.$route.name?s("b-button",{staticClass:"my-2 my-sm-0",attrs:{size:"sm",variant:"danger"},on:{click:function(e){return t.logOut()}}},[t._v("Cerrar sesión")]):t._e()],1)],1)],1)],1)],1)},a=[],l={getters:{getAccessToken:function(){return localStorage.simAccessToken}},setters:{setAccessToken:function(t){localStorage.simAccessToken=t}},logOut:function(){localStorage.removeItem("simAccessToken")}},u={methods:{logOut:function(){l.logOut(),this.$router.push("/login")}}},c=u,m=r("2877"),d=Object(m["a"])(c,n,a,!1,null,null,null),b=d.exports,p={components:{NavBar:b}},g=p,v=(r("034f"),Object(m["a"])(g,o,i,!1,null,null,null)),f=v.exports,h=r("8c4f"),_=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-container",[r("b-row",[r("div",{staticClass:"col-md-4 col-lg-4 col-xl-4 col-sm-12 col-xs-12"},[r("span",{staticClass:"d-lg-none"},[t._v("Distribuidores:")]),t.distributors.length>1?r("div",[t.showForm?t._e():r("b-form-select",{attrs:{options:t.distributors},on:{change:t.getDistributorSims},model:{value:t.selectedDistributor,callback:function(e){t.selectedDistributor=e},expression:"selectedDistributor"}})],1):t._e(),1===t.distributors.length?r("span",[t._v("Cargando distribuidores...")]):t._e(),null!==t.selectedDistributor?r("div",{staticClass:"text-left"},[r("DistributorDetails",{attrs:{selectedDistributor:t.selectedDistributor}})],1):t._e(),r("br"),r("br"),r("b-row",[t.generatingGeneralReport?t._e():r("b-col",[t.showForm?t._e():r("b-button",{attrs:{variant:"primary"},on:{click:t.getGeneralReport}},[t._v("Ver Reporte General")])],1),t.generatingGeneralReport?r("b-col",[r("b-spinner",{staticClass:"text-center",attrs:{variant:"primary",type:"grow",label:"Spinning"}})],1):t._e(),r("b-col",[t.showForm?t._e():r("b-button",{attrs:{variant:"success"},on:{click:t.toggleForm}},[t._v("Agregar Distribuidor")])],1)],1),r("br"),r("br"),r("DistributorForm",{attrs:{showForm:t.showForm,selectedDistributor:t.selectedDistributor},on:{toggleForm:t.toggleForm}})],1),r("div",{staticClass:"col-md-4 col-lg-4 col-xl-4 col-sm-10"},[r("NumbersList",{attrs:{sims:t.selectedSims}}),null===t.selectedDistributor?r("div",[r("p",[t._v("Elija un distribuidor")])]):t._e()],1),r("div",{staticClass:"col-md-4 col-lg-4 col-xl-4 col-sm-10"},[r("NumbersTextArea",{attrs:{showNumbersSpinner:t.showNumbersSpinner,selectedDistributor:t.selectedDistributor},on:{setSelectedDistributor:t.setSelectedDistributor,setShowNumbersSpinner:t.setShowNumbersSpinner,setSims:t.setSims}})],1)]),r("div")],1),r("div",[r("b-modal",{attrs:{id:"bv-modal-general-report","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v("Reporte General")]},proxy:!0}])},[r("div",{staticClass:"d-block text-center"},[r("p",[r("strong",[t._v("SIMs Activados:")]),t._v(" "+t._s(t.result.activatedSims)+" ")]),r("p",[r("strong",[t._v("SIMs no activados:")]),t._v(" "+t._s(t.result.notActivatedSims)+" ")]),r("p",[r("strong",[t._v("Total SIMs:")]),t._v(" "+t._s(t.result.activatedSims+t.result.notActivatedSims)+" ")])]),r("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("bv-modal-general-report")}}},[t._v("Cerrar")])],1)],1)],1)},S=[],w=(r("4160"),r("b0c0"),r("159b"),r("5530")),D=r("2f62"),x=r("bc3a"),k=r.n(x),y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.showForm?r("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("b-form-group",{attrs:{id:"input-group-name",label:"Nombre:","label-for":"name-input"}},[r("b-form-input",{attrs:{id:"name-input",type:"text",required:"",placeholder:"Nombre"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),r("b-form-group",{attrs:{id:"input-group-email",label:"Ingrese email:","label-for":"email-input"}},[r("b-form-input",{attrs:{id:"email-input",type:"email",required:"",placeholder:"email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("b-form-group",{attrs:{id:"input-group-phone-number",label:"Ingrese número telefónico:","label-for":"phone-number-input"}},[r("b-form-input",{attrs:{id:"phone-number-input",type:"tel",required:"",placeholder:"Ingrese número telefónico",maxlength:"10"},model:{value:t.form.phone_number,callback:function(e){t.$set(t.form,"phone_number",e)},expression:"form.phone_number"}})],1),r("b-form-group",{attrs:{id:"input-group-city",label:"Ingrese ciudad:","label-for":"city-input"}},[r("b-form-input",{attrs:{id:"city-input",type:"text",required:"",placeholder:"Ciudad"},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1),t.showDistributorSpinner?t._e():r("b-row",[r("b-col",[r("b-button",{attrs:{variant:"danger"},on:{click:t.toggleForm}},[t._v("Cancelar")])],1),r("b-col",[r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Guardar")])],1)],1),t.showDistributorSpinner?r("b-row",[r("b-col",[r("b-spinner",{staticClass:"text-center",attrs:{variant:"primary",type:"grow",label:"Spinning"}}),r("h3",[t._v("Guardando Distribuidor")])],1)],1):t._e()],1):t._e()],1)},$=[],O={environment:"prod",environments:{dev:{baseUrl:"http://localhost:8080/api/v1"},prod:{baseUrl:"/api/v1"}}},N=O.environments[O.environment].baseUrl,A=N+"/user",C=A+"/login",M=N+"/distributor",j=N+"/sim",E=j+"/report",z=j+"/push",I=N+"/sim/distributor",F={baseUrl:N,usersUrl:A,loginUrl:C,distributorsUrl:M,pushSIMsUrl:z,getSIMsUrl:j,distributorSims:I,getSIMsGeneralReport:E},R={data:function(){return{form:{name:null,email:null,phone_number:null,city:null},showDistributorSpinner:!1}},props:{showForm:{type:Boolean,required:!0}},methods:Object(w["a"])({onSubmit:function(){var t=this;this.showDistributorSpinner=!0;var e=this.$bvModal,r=new Date,s=r.getTime();this.form["register_date"]=s;var o=this.form,i={headers:{Authorization:"Bearer "+l.getters.getAccessToken()}};k.a.post(F.distributorsUrl,o,i).then((function(e){"success"===e.data.message.status?(t.$bvModal.msgBoxOk("Distribuidor agregado",{title:"Éxito",size:"lg",buttonSize:"lg",okVariant:"success"}),t.showDistributorSpinner=!1,t.getDistributors(t.$bvModal),t.newNumbers="",t.form={name:null,phone_number:null,email:null},t.$emit("toggleForm")):"Access token expired"===e.data.message?(t.showDistributorSpinner=!1,t.$bvModal.msgBoxOk("Sesión expirada. Vuelve a iniciar sesión.",{title:"Error",size:"lg",buttonSize:"lg",okVariant:"success"}).then((function(e){e&&(t.$router.push("/login"),l.logOut())}))):(t.showDistributorSpinner=!1,t.$bvModal.msgBoxOk("Ocurrió un error al guardar. Intenta de nuevo",{title:"Error",size:"lg",buttonSize:"lg",okVariant:"success"}))})).catch((function(t){e.msgBoxOk("Error al conectarse al servidor "+t,{title:"Error",size:"lg",buttonSize:"lg",okVariant:"danger"})})),this.showDistributorSpinner=!1},toggleForm:function(){this.showForm&&(this.form={name:null,phone_number:null,email:null},this.$emit("toggleForm"))}},Object(D["b"])(["getDistributors"]))},T=R,B=Object(m["a"])(T,y,$,!1,null,null,null),G=B.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("br"),r("br"),r("p",[r("span",{staticClass:"font-weight-bold"},[t._v("Nombre:")]),t._v(" "+t._s(t.selectedDistributor.name))]),r("p",[r("span",{staticClass:"font-weight-bold"},[t._v("Teléfono:")]),t._v(" "+t._s(t.selectedDistributor.phone_number))]),r("p",[r("span",{staticClass:"font-weight-bold"},[t._v("Email:")]),t._v(" "+t._s(t.selectedDistributor.email))]),r("p",[r("span",{staticClass:"font-weight-bold"},[t._v("Fecha registro:")]),t._v(" "+t._s(t.formatDate(t.selectedDistributor.register_date)))]),r("p",[r("span",{staticClass:"font-weight-bold"},[t._v("Ciudad:")]),t._v(" "+t._s(t.selectedDistributor.city))]),r("p",[r("span",{staticClass:"font-weight-bold"},[t._v("Registrado por:")]),t._v(" "+t._s(t.selectedDistributor.registered_by.name))]),t.generatingDistributorReport?r("p",{staticClass:"text-center"},[r("b-spinner",{staticClass:"text-center",attrs:{variant:"primary",type:"grow",label:"Spinning"}})],1):t._e(),t.generatingDistributorReport?t._e():r("p",[r("b-button",{on:{click:t.getDistributorReport}},[t._v("Reporte")])],1),r("div",[r("b-modal",{attrs:{id:"bv-modal-report","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Reporte "+t._s(null!==t.selectedDistributor?t.selectedDistributor.name:"")+" ")]},proxy:!0}])},[r("div",{staticClass:"d-block text-center"},[r("p",[r("strong",[t._v("SIMs Activados:")]),t._v(" "+t._s(t.result.activatedSims))]),r("p",[r("strong",[t._v("SIMs no activados:")]),t._v(" "+t._s(t.result.notActivatedSims))]),r("p",[r("strong",[t._v("Total SIMs:")]),t._v(" "+t._s(t.result.activatedSims+t.result.notActivatedSims))])]),r("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("bv-modal-report")}}},[t._v("Cerrar")])],1)],1)])},U=[],V={error:function(t,e){t.msgBoxOk(e,{title:"Error",size:"lg",buttonSize:"lg",okVariant:"success"})}},q={data:function(){return{result:{activatedSims:0,notActivatedSims:0},generatingDistributorReport:!1}},props:{selectedDistributor:{type:Object,required:!0}},methods:{formatDate:function(t){var e=new Date(t);return e.toLocaleString()},getDistributorReport:function(){var t=this,e=this;e.generatingDistributorReport=!0;var r={headers:{Authorization:"Bearer "+l.getters.getAccessToken()}};k.a.get(F.getSIMsGeneralReport+"/"+this.selectedDistributor._id,r).then((function(r){t.result=r.data.result,e.generatingDistributorReport=!1,t.$bvModal.show("bv-modal-report")})).catch((function(t){e.generatingDistributorReport=!1,V.error(t)}))}}},P=q,H=Object(m["a"])(P,L,U,!1,null,null,null),J=H.exports,K=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[null!==t.sims&&void 0!==t.sims?r("b-list-group",[t.sims.length>0?r("div",{staticStyle:{"max-height":"300px",overflow:"scroll"}},[r("span",[t._v("Números:")]),t._l(t.sims,(function(e,s){return r("b-list-group-item",{key:e._id,staticStyle:{cursor:"pointer"},on:{click:function(r){return t.showSIMInfo(e)}}},[r("span",{style:e.active?"color: #8e8e8e;":""},[t._v(t._s(s+1)+".- "+t._s(e.phone_number))])])}))],2):t._e(),0===t.sims.length?r("div",[r("p",[t._v("No hay números para mostrar")])]):t._e()]):t._e(),r("b-modal",{attrs:{id:"bv-modal-sim","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Información SIM ")]},proxy:!0}])},[r("div",{staticClass:"d-block text-center"},[r("p",[r("strong",[t._v("Activado:")]),t._v(" "+t._s(t.selectedSim.active?"Sí":"No"))]),r("p",[r("strong",[t._v("Número:")]),t._v(" "+t._s(t.selectedSim.phone_number))]),r("p",[r("strong",[t._v("Número de serie:")]),t._v(" "+t._s(t.selectedSim.serial_number))]),r("p",[r("strong",[t._v("Registrado por:")]),t._v(" "+t._s(void 0!==t.selectedSim.registered_by?t.selectedSim.registered_by.name:""))]),r("p",[r("strong",[t._v("Fecha de registro:")]),t._v(" "+t._s(t.formatDate(t.selectedSim.register_date)))]),r("p",[r("strong",[t._v("Fecha de activación:")]),t._v(" "+t._s(void 0!==t.selectedSim.activation_date?t.formatDate(t.selectedSim.activation_date):""))])]),r("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("bv-modal-sim")}}},[t._v("Cerrar")])],1)],1)},Q=[],W={data:function(){return{selectedSim:{}}},props:{sims:{required:!0}},methods:{showSIMInfo:function(t){this.selectedSim=t,this.$bvModal.show("bv-modal-sim")},formatDate:function(t){var e=new Date(t);return e.toLocaleString()}}},X=W,Y=Object(m["a"])(X,K,Q,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t._m(0),r("b-form-textarea",{attrs:{id:"textarea",placeholder:"Escribe los números separados por coma",rows:"3","max-rows":"6"},model:{value:t.newNumbers,callback:function(e){t.newNumbers=e},expression:"newNumbers"}}),r("br"),t.showNumbersSpinner?r("b-row",[r("b-col",[r("b-spinner",{staticClass:"text-center",attrs:{variant:"primary",type:"grow",label:"Spinning"}}),r("h3",[t._v("Guardando Números")])],1)],1):t._e(),t.showNumbersSpinner?t._e():r("b-row",[r("b-col",[r("b-button",{attrs:{variant:"success"},on:{click:function(e){return t.savePhoneNumbers()}}},[t._v("Agregar números")])],1)],1)],1)},et=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-lg-none"},[r("br"),r("br"),r("span",[t._v("Agregar números:")])])}],rt=(r("ac1f"),r("5319"),r("1276"),{data:function(){return{newNumbers:""}},props:{showNumbersSpinner:{type:Boolean,required:!0},selectedDistributor:{required:!0}},methods:Object(w["a"])(Object(w["a"])({},Object(D["b"])(["getDistributors"])),{},{savePhoneNumbers:function(){var t=this;if(null!==this.selectedDistributor){var e=this.$bvModal,r=this;this.$emit("setShowNumbersSpinner",!0);var s,o=this.newNumbers.replace(/\s/g,""),i=o.split(","),n=[],a=new Date,u=a.getTime();i.forEach((function(t){s=/^\d+$/.test(t),10===t.length&&s&&n.push({active:!1,phone_number:t,register_date:u,serial_number:"N/A"})}));var c={headers:{Authorization:"Bearer "+l.getters.getAccessToken()}};k.a.post(F.pushSIMsUrl+"/"+this.selectedDistributor._id,{sims:n},c).then((function(r){"success"===r.data.message.status?(t.$bvModal.msgBoxOk("Números guardados correctamente. Se ignoraron espacios vacíos y números menores a 10 dígitos",{title:"Éxito",size:"lg",buttonSize:"lg",okVariant:"success"}),t.getDistributors(),t.$emit("setSelectedDistributor",null),t.newNumbers="",t.$emit("setShowNumbersSpinner",!1),t.$emit("setSims",null)):"Access token expired"===r.data.message?(t.showDistributorSpinner=!1,t.$bvModal.msgBoxOk("Sesión expirada. Vuelve a iniciar sesión.",{title:"Error",size:"lg",buttonSize:"lg",okVariant:"success"}).then((function(e){e&&(t.$router.push("/login"),l.logOut(),t.$emit("setShowNumbersSpinner",!1),t.$emit("setSims",null))}))):(t.$emit("setShowNumbersSpinner",!1),V.error(e,"Ocurrió un error al guardar. Intenta de nuevo"),t.$emit("setSims",null))})).catch((function(t){r.$emit("setShowNumbersSpinner",!1),this.$emit("setSims",null),V.error(e,"Error al conectarse al servidor "+t)}))}else this.$emit("setSims",null),this.$bvModal.msgBoxOk("Debes elegir un distribuidor",{title:"Error",size:"lg",buttonSize:"lg",okVariant:"success"})}})}),st=rt,ot=Object(m["a"])(st,tt,et,!1,null,null,null),it=ot.exports,nt={name:"Home",components:{DistributorForm:G,DistributorDetails:J,NumbersList:Z,NumbersTextArea:it},data:function(){return{selectedDistributor:null,selectedSims:null,showForm:!1,showDistributorSpinner:!1,showNumbersSpinner:!1,result:{activatedSims:0,notActivatedSims:0},generatingGeneralReport:!1}},methods:Object(w["a"])(Object(w["a"])({},Object(D["b"])(["getDistributors"])),{},{toggleForm:function(){this.showForm||(this.selectedDistributor=null),this.showForm=!this.showForm},formatDate:function(t){var e=new Date(t);return e.toLocaleString()},setSelectedDistributor:function(t){this.selectedDistributor=t},setShowNumbersSpinner:function(t){this.showNumbersSpinner=t},setSims:function(t){this.selectedSims=t},getGeneralReport:function(){var t=this,e=this;this.generatingGeneralReport=!0;var r={headers:{Authorization:"Bearer "+l.getters.getAccessToken()}};k.a.get(F.getSIMsGeneralReport,r).then((function(e){t.result=e.data.result,t.generatingGeneralReport=!1,t.$bvModal.show("bv-modal-general-report")})).catch((function(t){e.generatingGeneralReport=!1,V.error(t)}))},getDistributorSims:function(t){var e=this;if(null!==t){var r={headers:{Authorization:"Bearer "+l.getters.getAccessToken()}};k.a.get(F.distributorSims+"/"+t._id,r).then((function(t){e.selectedSims=t.data.data})).catch((function(t){V.error(t)}))}else this.selectedSims=null}}),mounted:function(){this.getDistributors(this.$bvModal)},computed:Object(w["a"])(Object(w["a"])({},Object(D["c"])(["distributorsList"])),{},{distributors:function(){var t=[{value:null,text:"Elije un distribuidor"}];return void 0!==this.distributorsList&&this.distributorsList.forEach((function(e){t.push({value:e,text:e.name})})),t}})},at=nt,lt=Object(m["a"])(at,_,S,!1,null,null,null),ut=lt.exports,ct=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("b-container",[r("b-row",[t.showSpinner?r("b-col",{staticClass:"col-md-4 col-lg-4 col-xl-4 col-sm-10 offset-sm-1 offset-md-4 offset-lg-4 offset-xl-4"},[r("div",{staticClass:"text-center"},[r("b-spinner",{staticClass:"text-center",attrs:{variant:"primary",type:"grow",label:"Spinning"}}),r("h3",[t._v("Iniciando sesión")])],1)]):t._e(),t.showSpinner?t._e():r("b-col",{staticClass:"col-md-4 col-lg-4 col-xl-4 col-sm-10 offset-sm-1 offset-md-4 offset-lg-4 offset-xl-4"},[r("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("b-form-group",{attrs:{id:"input-group-email",label:"Correo electrónico:","label-for":"email-input"}},[r("b-form-input",{attrs:{id:"email-input",type:"email",required:"",placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),r("b-form-group",{attrs:{id:"input-group-password",label:"Ingrese Contraseña:","label-for":"password-input"}},[r("b-form-input",{attrs:{id:"password-input",type:"password",required:"",placeholder:"Contraseña"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Login")])],1)],1)],1)],1)],1)},mt=[],dt={data:function(){return{form:{email:"",password:""},showSpinner:!1}},methods:{onSubmit:function(){this.showSpinner=!0,this.login(this.form)},login:function(){var t=this,e=this.$bvModal;k.a.post(F.loginUrl,this.form).then((function(e){2001===e.data.message.code?(l.setters.setAccessToken(e.data.token),t.$router.push("/")):1e3===e.data.code&&(t.$bvModal.msgBoxOk("Usuario o contraseña incorrectas",{title:"Error al iniciar sesión",size:"lg",buttonSize:"lg",okVariant:"success"}),t.showSpinner=!1,t.form={email:"",password:""})})).catch((function(t){e.msgBoxOk("Error al conectarse al servidor "+t,{title:"Error",size:"lg",buttonSize:"lg",okVariant:"danger"})}))}},beforeMount:function(){void 0!==localStorage.simAccessToken&&this.$router.push("/")}},bt=dt,pt=Object(m["a"])(bt,ct,mt,!1,null,null,null),gt=pt.exports;s["default"].use(h["a"]);var vt=[{path:"/",name:"Home",component:ut,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:gt}],ft=new h["a"]({mode:"history",base:"/",routes:vt});ft.beforeEach((function(t,e,r){t.meta.requiresAuth&&void 0===localStorage.simAccessToken?r("/Login"):r()}));var ht=ft,_t={distributorsList:[],selectedDistributorOnState:null},St={commitDistributorsList:function(t,e){t.distributorsList=e},commitDistributor:function(t,e){t.selectedDistributorOnState=e}},wt={getDistributors:function(t,e){var r=t.commit,s={headers:{Authorization:"Bearer "+l.getters.getAccessToken()}};k.a.get(F.distributorsUrl,s).then((function(t){"Access token expired"===t.data.message&&(l.logOut(),ht.push("/login")),r("commitDistributorsList",t.data.data)})).catch((function(t){e.msgBoxOk("Error al conectarse al servidor "+t,{title:"Error",size:"lg",buttonSize:"lg",okVariant:"danger"})}))},setDistributor:function(t,e){var r=t.commit;r("commitDistributor",e)}};s["default"].use(D["a"]);var Dt=new D["a"].Store({state:_t,mutations:St,actions:wt}),xt=r("5f5b"),kt=r("b1e0");r("f9e3"),r("2dd8");s["default"].use(xt["a"]),s["default"].use(kt["a"]),s["default"].config.productionTip=!1,new s["default"]({router:ht,store:Dt,render:function(t){return t(f)}}).$mount("#app")},"85ec":function(t,e,r){},bd3c:function(t,e,r){t.exports=r.p+"img/telcel.7f7874c2.png"}});
//# sourceMappingURL=app.8f6b1d4c.js.map